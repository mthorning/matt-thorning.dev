---
type: "blog"
slug: "/blog/hook-return-types"
date: "2021-02-16T12:00:00"
title: "What's the Best Hook Return Type"
tags: ["javascript", "react", "frontend"]
---

When you want to return more than one thing from a function in JavaScript you have two options, you can either bundle them together in an array or in an object. Which you choose will depend on your use but there is a way you can have your cake and eat it too. I'm going to be looking at React hooks in this post but this will apply to plain functions too.

Let's use the example of a custom hook which fetches some data from a REST API:

```js
const [status, payload] = useFetchedData(url)
```
This hook takes a `url` and returns an array from which we destructure `status` and `payload`. The hook will call the endpoint at the URL supplied whenever it changes, `status` is the state of the promise (pending, resolved or rejected) and `payload` contains the response from the API if the promise is resolved or the error response if it is rejected. 

Returning the values in a array works very well in this situation because it is very unlikely that we would require one value without the other, plus it also means we can easily rename the variables if we need to call the hook multiple times in the same scope:

```js
const [userStatus, userPayload] = useFetchedData(userUrl)
const [historyStatus, historyPayload]Payload] = useFetchedData(historyUrl)
```

We have a hook very much like this in the codebase where I work. We found that there were times where we needed to trigger a refetch to get fresh data so we added an additional `refetch` function. This function could then be called after some update (such as when something is deleted) was made to the backend so that the data on the page could be refreshed. There were times where the call to change something returned the data we needed though, so instead of fetching the data again unecessarily we set the `refetch` function to only call the API if no arguments were supplied, if there is an argument then it just updates the state with that value instead of making the call:

```js
const [status, payload, refetch] = useFetchedData(url)

function deleteItem(id) {
  axios.delete(`${url}/${id}`)
    .then(() => refetch())
}

function addItem(item) {
  axios.post(url, item)
    .then(response => refetch(response))
}
```

